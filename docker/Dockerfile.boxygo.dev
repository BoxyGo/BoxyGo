ARG BASE_IMAGE
FROM ${BASE_IMAGE}

ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update --allow-releaseinfo-change && apt-get install -y \
    python3-vcstool build-essential git \
    nano \
    python3-vcstool \
    ros-humble-navigation2 \
    ros-humble-nav2-bringup \
    ros-humble-slam-toolbox \
    ros-humble-robot-localization \
    ros-humble-xacro \
    ros-humble-tf2-ros \
    ros-humble-rosbag2-storage-mcap \
    ros-humble-rviz2 \
    ros-humble-foxglove-bridge \
    ros-humble-teleop-twist-keyboard \
    ros-humble-ros2-control \
    ros-humble-ros2-controllers \
    ros-humble-joint-state-publisher \
    ros-humble-controller-manager \
    ros-humble-controller-manager-msgs \
    ros-humble-robot-state-publisher \
    ros-humble-gazebo-ros-pkgs \
    ros-humble-gazebo-ros2-control \
    && rm -rf /var/lib/apt/lists/*

RUN pip3 install --upgrade pip && pip3 install moteus


RUN git clone https://github.com/OctoMap/octomap_rviz_plugins.git
